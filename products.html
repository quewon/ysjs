<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMSS | 상품 제공</title>
    <link rel="stylesheet" href="style.css">
    <style>
        :root {
            --floor: 12rem;
        }

        main {
            display: flex;
            height: 100%;
        }

        .left-column {
            position: relative;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .left-column h1 {
            font-size: 1.5rem;
            margin-top: 3rem;
            border: 1px solid black;
            border-radius: 50%;
            font-family: var(--sans-serif);
            width: fit-content;
            padding: .55em 1.75em;
            font-weight: normal;
            background: white;
        }
        .left-column h2 {
            font-size: 1rem;
            font-weight: normal;
            padding: .5em 1em;
            color: #494949;
            border: 1px dashed black;
            font-family: var(--old-computer);
        }

        .left-column canvas {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .right-column {
            position: relative;
            flex-shrink: 0;

            right: 0;
            width: 40vw;
            border: none;
            border-left: 2px solid black;
            
            display: flex;
            flex-direction: column;
            gap: .5em;
            justify-content: end;
            padding-bottom: var(--floor);
        }

        button {
            font-size: 1.25rem;
            font-family: var(--old-computer);
            width: 100%;
            background: white;
            position: relative;
        }
        .right-column button img:first-child {
            position: absolute;
            height: 1.5em;
            left: 1ch;
            top: 50%;
            translate: 0 -50%;
        }
    </style>
</head>
<body>

    <div class="container">

        <main>
            <div class="left-column">
                <canvas></canvas>
                <h1>*무료제공*</h1>
                <h2>*2,000,000원 상당의 상품</h2>
            </div>
    
            <div class="right-column">
                <a href="contract.html"><button><img class="icon" src="res/folder icon.svg"> 혜택 약정 자세히 보기 <img class="icon" src="res/arrowright.svg" alt="→"></button></a><br>
                <a href="name.html"><button><img class="icon" src="res/folder icon.svg"> 디지털 영생 가입하기 <img class="icon" src="res/arrowright.svg" alt="→"></button></a>
            </div>
        </main>

        <footer>
            <span></span>
            <span>(주) 첨단 메모리 시스템</span>
            <span>|</span>
            <span>문의전화 0310-6700-1515</span>
            <span>|</span>
            <span>무료상담</span>
            <span>|</span>
            <span>(주) 첨단 메모리 시스템</span>
            <span></span>
        </footer>

        <a class="logo" href="index.html"><img src="res/logo.svg"></a>
    </div>
    
</body>

<script>
    var canvas = document.querySelector("canvas");
    var context = canvas.getContext("2d");
    const rem = parseFloat(getComputedStyle(document.documentElement).fontSize);
    const floor = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--floor')) * rem * window.devicePixelRatio;

    window.onload = function() {
        window.onresize();
        draw();

        // init

        new TextBox("후견인 열람권 (5년)", "#597EEE", "white");
        new TextBox("관리자 편집권 (1회)", "#A1B8FF");
        new TextBox("디지털 영생 기억 보관권(10년)", "#C7C9D1");
        new TextBox("프로필 촬영권(1회)", "#DAD7FE");
    }

    window.onresize = function() {
        canvas.width = canvas.offsetWidth * window.devicePixelRatio;
        canvas.height = canvas.offsetHeight * window.devicePixelRatio;
    }

    function draw() {
        context.clearRect(0, 0, canvas.width, canvas.height);

        context.fillStyle = "lightgray";
        context.fillRect(0, canvas.height - floor, canvas.width, canvas.height);

        for (let box of boxes) {
            box.update();
            box.draw();
        }

        requestAnimationFrame(draw);
    }

    var boxes = [];

    class TextBox {
        text;
        box_color;
        text_color;

        x;
        y;
        vx;
        vy;

        constructor(text, box_color, text_color) {
            this.text = text;
            this.text_color = text_color || "black";
            this.box_color = box_color;
            boxes.push(this);

            this.x = 0;
            this.y = 0;
        }

        update() {

        }

        draw() {
            context.fillStyle = this.text_color;
            context.font = 1.25 * rem + "px 'Apple Gothic'";
            context.fillText(0, 0, this.text);
        }
    }
</script>

</html>